package com.viettel.etc.repositories.tables;import com.viettel.etc.repositories.tables.entities.PatientsEntity;import org.springframework.data.jpa.repository.JpaRepository;import org.springframework.data.jpa.repository.Query;import org.springframework.stereotype.Repository;/** * Autogen class Repository Interface: Create Repository For Table Name Patients *  * @author ToolGen * @date Wed Aug 12 17:57:16 ICT 2020 */@Repositorypublic interface PatientsRepositoryJPA extends JpaRepository<PatientsEntity, Integer> {    Boolean existsByPhoneNumberAndIsActiveAndIsDelete(String phoneNumber, int isActive, int isDelete);    Boolean existsByEmailAndIsActiveAndIsDelete(String email, int isActive, int isDelete);    Boolean existsByPhoneNumberAndPatientIdNot(String phoneNumber, Integer patientId);    PatientsEntity findByKeycloakUserId(String keycloakId);    Boolean existsByKeycloakUserId(String keycloakId);    PatientsEntity findByPhoneNumber(String phoneNumber);    PatientsEntity findByPatientIdAndIsActiveAndIsDelete(int patientId, int isActive, int isDelete);    @Query(value = "select p.patient_id from patients p where p.is_active = 1 and p.is_delete = 0 " +            "and p.phone_number = ?1 order by p.patient_id DESC limit 1", nativeQuery = true)    Integer getPatientId(String phoneNumber);}